# Copyright 2023 Kapeta Inc.
# SPDX-License-Identifier: MIT

kind: core/concept
metadata:
  name: core/language-target
spec:
  schema:
    $id: /core/language-target
    $schema: http://json-schema.org/draft-07/schema#
    type: object
    additionalProperties: false
    required:
      - kind
      - metadata
    properties:
      kind:
        type: string
        const: core/language-target

      metadata:
        $ref: /core/metadata

      spec:
        title: LanguageTargetSpec
        type: object
        additionalProperties: false
        required:
          - local
        properties:
          schema:
            $ref: /core/schema
          versioning:
            $ref: /core/versioning
          icon:
            $ref: /core/icon-value
          local:
            title: LocalDevContainer
            type: object
            additionalProperties: false
            required:
              - image
            properties:
              image:
                type: string
              options:
                type: object
                additionalProperties: true
              userHome:
                type: string
              workingDir:
                type: string
              healthcheck:
                type: string
              HostConfig:
                type: object
                additionalProperties: true
              Labels:
                type: object
                additionalProperties: true
              Env:
                  type: array
                  items:
                      type: string
              handlers:
                title: LocalDevContainerHandlers
                type: object
                additionalProperties: false
                properties:
                  onCreate:
                    type: string